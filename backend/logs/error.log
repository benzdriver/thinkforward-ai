2025-03-08 23:04:22 error: 更新用户错误: req.t is not a function {"service":"thinkforward-api","stack":"TypeError: req.t is not a function\n    at Object.updateUser (/Users/ziyanzhou/Projects/thinkforward-ai/backend/controllers/userController.js:177:20)\n    at async Context.<anonymous> (/Users/ziyanzhou/Projects/thinkforward-ai/backend/tests/unit/controllers/userController.test.js:75:7)"}
2025-03-08 23:04:22 error: 更新用户错误: req.t is not a function {"service":"thinkforward-api","stack":"TypeError: req.t is not a function\n    at Object.updateUser (/Users/ziyanzhou/Projects/thinkforward-ai/backend/controllers/userController.js:177:20)\n    at async Context.<anonymous> (/Users/ziyanzhou/Projects/thinkforward-ai/backend/tests/unit/controllers/userController.test.js:122:7)"}
2025-03-08 23:04:22 error: 获取所有用户错误: User.find(...).select is not a function {"service":"thinkforward-api","stack":"TypeError: User.find(...).select is not a function\n    at Object.getAllUsers (/Users/ziyanzhou/Projects/thinkforward-ai/backend/controllers/userController.js:472:8)\n    at Context.<anonymous> (/Users/ziyanzhou/Projects/thinkforward-ai/backend/tests/unit/controllers/userController.test.js:159:28)\n    at callFn (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runnable.js:364:21)\n    at Runnable.run (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runnable.js:352:5)\n    at Runner.runTest (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:677:10)\n    at /Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:800:12\n    at next (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:592:14)\n    at /Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:602:7\n    at next (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:485:14)\n    at Immediate._onImmediate (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:570:5)\n    at process.processImmediate (node:internal/timers:483:21)"}
2025-03-08 23:04:22 error: 更新用户角色错误: req.t is not a function {"service":"thinkforward-api","stack":"TypeError: req.t is not a function\n    at Object.updateUserRole (/Users/ziyanzhou/Projects/thinkforward-ai/backend/controllers/userController.js:517:22)\n    at Context.<anonymous> (/Users/ziyanzhou/Projects/thinkforward-ai/backend/tests/unit/controllers/userController.test.js:204:28)\n    at callFn (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runnable.js:364:21)\n    at Runnable.run (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runnable.js:352:5)\n    at Runner.runTest (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:677:10)\n    at /Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:800:12\n    at next (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:592:14)\n    at /Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:602:7\n    at next (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:485:14)\n    at Immediate._onImmediate (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:570:5)\n    at process.processImmediate (node:internal/timers:483:21)"}
2025-03-08 23:22:33 error: 更新用户错误: req.t is not a function {"service":"thinkforward-api","stack":"TypeError: req.t is not a function\n    at Object.updateUser (/Users/ziyanzhou/Projects/thinkforward-ai/backend/controllers/userController.js:177:20)\n    at async Context.<anonymous> (/Users/ziyanzhou/Projects/thinkforward-ai/backend/tests/unit/controllers/userController.test.js:75:7)"}
2025-03-08 23:22:33 error: 更新用户错误: req.t is not a function {"service":"thinkforward-api","stack":"TypeError: req.t is not a function\n    at Object.updateUser (/Users/ziyanzhou/Projects/thinkforward-ai/backend/controllers/userController.js:177:20)\n    at async Context.<anonymous> (/Users/ziyanzhou/Projects/thinkforward-ai/backend/tests/unit/controllers/userController.test.js:122:7)"}
2025-03-08 23:22:33 error: 获取所有用户错误: User.find(...).select is not a function {"service":"thinkforward-api","stack":"TypeError: User.find(...).select is not a function\n    at Object.getAllUsers (/Users/ziyanzhou/Projects/thinkforward-ai/backend/controllers/userController.js:472:8)\n    at Context.<anonymous> (/Users/ziyanzhou/Projects/thinkforward-ai/backend/tests/unit/controllers/userController.test.js:159:28)\n    at callFn (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runnable.js:364:21)\n    at Runnable.run (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runnable.js:352:5)\n    at Runner.runTest (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:677:10)\n    at /Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:800:12\n    at next (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:592:14)\n    at /Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:602:7\n    at next (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:485:14)\n    at Immediate._onImmediate (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:570:5)\n    at process.processImmediate (node:internal/timers:483:21)"}
2025-03-08 23:22:33 error: 更新用户角色错误: req.t is not a function {"service":"thinkforward-api","stack":"TypeError: req.t is not a function\n    at Object.updateUserRole (/Users/ziyanzhou/Projects/thinkforward-ai/backend/controllers/userController.js:517:22)\n    at Context.<anonymous> (/Users/ziyanzhou/Projects/thinkforward-ai/backend/tests/unit/controllers/userController.test.js:204:28)\n    at callFn (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runnable.js:364:21)\n    at Runnable.run (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runnable.js:352:5)\n    at Runner.runTest (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:677:10)\n    at /Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:800:12\n    at next (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:592:14)\n    at /Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:602:7\n    at next (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:485:14)\n    at Immediate._onImmediate (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:570:5)\n    at process.processImmediate (node:internal/timers:483:21)"}
2025-03-08 23:34:04 error: 获取所有用户错误: User.find(...).select is not a function {"service":"thinkforward-api","stack":"TypeError: User.find(...).select is not a function\n    at Object.getAllUsers (/Users/ziyanzhou/Projects/thinkforward-ai/backend/controllers/userController.js:472:8)\n    at Context.<anonymous> (/Users/ziyanzhou/Projects/thinkforward-ai/backend/tests/unit/controllers/userController.test.js:159:28)\n    at callFn (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runnable.js:364:21)\n    at Runnable.run (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runnable.js:352:5)\n    at Runner.runTest (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:677:10)\n    at /Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:800:12\n    at next (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:592:14)\n    at /Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:602:7\n    at next (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:485:14)\n    at Immediate._onImmediate (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:570:5)\n    at process.processImmediate (node:internal/timers:483:21)"}
2025-03-09 09:10:22 error: 获取所有用户错误: User.find(...).select is not a function {"service":"thinkforward-api","stack":"TypeError: User.find(...).select is not a function\n    at Object.getAllUsers (/Users/ziyanzhou/Projects/thinkforward-ai/backend/controllers/userController.js:472:8)\n    at Context.<anonymous> (/Users/ziyanzhou/Projects/thinkforward-ai/backend/tests/unit/controllers/userController.test.js:173:28)\n    at callFn (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runnable.js:364:21)\n    at Runnable.run (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runnable.js:352:5)\n    at Runner.runTest (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:677:10)\n    at /Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:800:12\n    at next (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:592:14)\n    at /Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:602:7\n    at next (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:485:14)\n    at Immediate._onImmediate (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:570:5)\n    at process.processImmediate (node:internal/timers:483:21)"}
2025-03-09 09:13:43 error: 获取所有用户错误: User.find(...).select is not a function {"service":"thinkforward-api","stack":"TypeError: User.find(...).select is not a function\n    at Object.getAllUsers (/Users/ziyanzhou/Projects/thinkforward-ai/backend/controllers/userController.js:472:8)\n    at Context.<anonymous> (/Users/ziyanzhou/Projects/thinkforward-ai/backend/tests/unit/controllers/userController.test.js:167:28)\n    at callFn (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runnable.js:364:21)\n    at Runnable.run (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runnable.js:352:5)\n    at Runner.runTest (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:677:10)\n    at /Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:800:12\n    at next (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:592:14)\n    at /Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:602:7\n    at next (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:485:14)\n    at Immediate._onImmediate (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:570:5)\n    at process.processImmediate (node:internal/timers:483:21)"}
2025-03-09 09:19:24 error: 获取所有用户错误: User.find(...).select is not a function {"service":"thinkforward-api","stack":"TypeError: User.find(...).select is not a function\n    at Object.getAllUsers (/Users/ziyanzhou/Projects/thinkforward-ai/backend/controllers/userController.js:472:8)\n    at Context.<anonymous> (/Users/ziyanzhou/Projects/thinkforward-ai/backend/tests/unit/controllers/userController.test.js:169:28)\n    at callFn (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runnable.js:364:21)\n    at Runnable.run (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runnable.js:352:5)\n    at Runner.runTest (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:677:10)\n    at /Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:800:12\n    at next (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:592:14)\n    at /Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:602:7\n    at next (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:485:14)\n    at Immediate._onImmediate (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:570:5)\n    at process.processImmediate (node:internal/timers:483:21)"}
2025-03-09 09:22:36 error: 获取所有用户错误: User.find(...).select is not a function {"service":"thinkforward-api","stack":"TypeError: User.find(...).select is not a function\n    at Object.getAllUsers (/Users/ziyanzhou/Projects/thinkforward-ai/backend/controllers/userController.js:472:8)\n    at Context.<anonymous> (/Users/ziyanzhou/Projects/thinkforward-ai/backend/tests/unit/controllers/userController.test.js:215:30)\n    at callFn (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runnable.js:364:21)\n    at Runnable.run (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runnable.js:352:5)\n    at Runner.runTest (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:677:10)\n    at /Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:800:12\n    at next (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:592:14)\n    at /Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:602:7\n    at next (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:485:14)\n    at Immediate._onImmediate (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:570:5)\n    at process.processImmediate (node:internal/timers:483:21)"}
2025-03-09 09:26:38 error: 获取所有用户错误: User.find(...).select(...).skip(...).limit(...).sort is not a function {"service":"thinkforward-api","stack":"TypeError: User.find(...).select(...).skip(...).limit(...).sort is not a function\n    at Object.getAllUsers (/Users/ziyanzhou/Projects/thinkforward-ai/backend/controllers/userController.js:475:8)\n    at Context.<anonymous> (/Users/ziyanzhou/Projects/thinkforward-ai/backend/tests/unit/controllers/userController.test.js:193:28)\n    at callFn (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runnable.js:364:21)\n    at Runnable.run (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runnable.js:352:5)\n    at Runner.runTest (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:677:10)\n    at /Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:800:12\n    at next (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:592:14)\n    at /Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:602:7\n    at next (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:485:14)\n    at Immediate._onImmediate (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:570:5)\n    at process.processImmediate (node:internal/timers:483:21)"}
2025-03-09 10:06:42 error: 获取所有用户错误: User.find(...).select(...).skip(...).limit(...).sort is not a function {"service":"thinkforward-api","stack":"TypeError: User.find(...).select(...).skip(...).limit(...).sort is not a function\n    at Object.getAllUsers (/Users/ziyanzhou/Projects/thinkforward-ai/backend/controllers/userController.js:476:8)\n    at Context.<anonymous> (/Users/ziyanzhou/Projects/thinkforward-ai/backend/tests/unit/controllers/userController.test.js:193:28)\n    at callFn (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runnable.js:364:21)\n    at Runnable.run (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runnable.js:352:5)\n    at Runner.runTest (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:677:10)\n    at /Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:800:12\n    at next (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:592:14)\n    at /Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:602:7\n    at next (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:485:14)\n    at Immediate._onImmediate (/Users/ziyanzhou/Projects/thinkforward-ai/backend/node_modules/mocha/lib/runner.js:570:5)\n    at process.processImmediate (node:internal/timers:483:21)"}
